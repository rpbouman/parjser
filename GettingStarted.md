# Getting the software #

Before you can use parjser, you need to obtain the software. You can do a [subversion](http://subversion.tigris.org/) checkout by following the instructions in the [source area](http://code.google.com/p/parjser/source/checkout) of the parjser google code project, or download it as a `.zip` file located at the [download area](http://code.google.com/p/parjser/downloads/list). If you choose to download a `.zip` file, you'll need to extract its contents.

# Including parjser in your webpage #

In the root of the parjser project directory, you'll find a `js` directory. This directory contains JavaScript files which are meant for inclusion in web pages. To use parjser in your webpage, you'll need to load at least one of these JavaScript files into your webpage using the `<script>` tag. For now, we'll work with the `parjser.SimpleTopDownParser.js` file:
```
  <script type="text/javascript" src="js/parjser.SimpleTopDownParser.js"></script>
```
# Creating a Parser instance #

When including the `parjser.SimpleTopDownParser.js` script in your page, you can create a new parser instance using the following snippet:
```
  <script type="text/javascript">
  
      var grammar = ...
      var parser = new parjser.SimpleTopDownParser(grammar);

  </script>
```
# The Grammar #

The `grammar` argument passed to the parser constructor is an object that describes the language which your parser instance can parse. The details of defining a grammar object are documented elsewhere, but for now, let's settle for a grammar that describes a very simple language for adding (positive) integers:
```
  <script type="text/javascript">
      var parser = new parjser.SimpleTopDownParser({
          startSymbol: "add",
          tokens: {
              integer: /[0-9]+/,
              operator: /\+/
          },
          rules: {
              add: [
                  "integer", 
                  ["operator", "add"],"?"
              ] 
          }
      }); 
  </script>
```
# Parsing some text #

After creating the parser, you can use it to parse a text by calling its `parse()` method, passing the text as an argument:
```
  <script type="text/javascript">
      var grammar = ...
      var parser = new parjser.SimpleTopDownParser(grammar);
      var parseTree = parser.parse("1+2+3");
  </script>
```
# The parse tree #

If the text is parsed successfully, the `parse()` method returns the parse tree. The parse tree is an object that reflects the structure of the text (as implied by the grammar). In this case, the parse tree looks something like this:
```
                    add
                     |
           +---------+---------+
           |                   |
      integer: "1"      ["operator", "add"]         
                               |
                     +---------+---------+
                     |                   |
                 operator: "+"          add
                                         |
                               +---------+---------+
                               |                   |
                          integer: "2"      ["operator", "add"]
                                                   |
                                         +---------+---------+
                                         |                   |
                                     operator: "+"          add
                                                             |
                                                        integer: "3"
```
# Error Handling #

If the parser cannot parse the text, it throws an exception. You can catch the exception and extract some information that about the kind of error, and where it was encountered:
```
  <script type="text/javascript">
      try {

          var grammar = ...
          var parser = new parjser.SimpleTopDownParser(grammar);
          var parseTree = parser.parse("1+2+3");

      } catch (exception){

          if (exception instanceof parjser.Exception) {
              
              var line = exception.line;
              var column = exception.column;
              var lastLine = exception.lastLine;

              switch (exception.type) {
                  case "NoMatchFound":
                      // input does not match a token
                      break;
                  case "SyntaxErrorException":
                      // token does not match any syntax rules
                      break;
              }

              // print a nice human readable error message:
              alert(exception.toString());
          }
          else {

              //an error occurred that is not generated by the parser.

          }
      }
  </script>
```